{"version":3,"sources":["updatereservation.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA","sourcesContent":["// import React, { useState, useEffect } from \"react\";\r\n// import axios from \"axios\";\r\n// import { useHistory, useParams, Link } from \"react-router-dom\";\r\n// import DatePicker from 'react-datetime';\r\n// import moment from 'moment';\r\n// import 'react-datetime/css/react-datetime.css';\r\n// import Swal from 'sweetalert2'\r\n\r\n// import { Modal } from \"react-bootstrap\";\r\n\r\n\r\n//  function Updatereservation(reservations) {\r\n\r\n//     console.log(\"update modal dataaaaaa\", reservations);\r\n\r\n//     let history = useHistory();\r\n//     //const { RID } = useParams();\r\n\r\n//     const RID = reservations.data.reservationid;\r\n\r\n//     useEffect(() => {\r\n//         loadReservation();\r\n//     }, []);\r\n\r\n//     console.log(\"came dataaaaa\", reservations)\r\n\r\n//     const[customername,setcustomername] = useState(\"\");\r\n//     const[contactnumber,setcontactnumber] = useState(\"\");\r\n//     const[nic,setnic] = useState(\"\");\r\n//     const[customernic,setcustomernic] = useState(\"\");\r\n//     const[customeraddress,setcustomeraddress] = useState(\"\");\r\n//     const[packagename,setpackagename] = useState(\"\");\r\n//     const[eventtype,seteventtype] = useState(\"\");\r\n//     const[from,setfrom] = useState(moment());\r\n//     const[to,setto] = useState(moment());\r\n//     const[discount,setdiscount] = useState(\"\");\r\n//     const[advancedpayment,setadvancedpayment] = useState(\"\");\r\n//     const[totalreservation,settotalreservation] = useState(\"\");\r\n//     const[status,setstatus] = useState(\"\");\r\n//     const[returnDay, setreturnDay] = useState(moment());\r\n//     const[penaltyDay, setpenaltyDay] = useState(\"\");\r\n//     const[penalty, setpenalty] = useState(\"\");\r\n\r\n//     const[remaining, setremaining] = useState(\"\");\r\n\r\n//     //disable past dates\r\n//     const yesterday = moment().subtract(1, 'day');\r\n//     const disablePastDt = current => {\r\n//         return current.isAfter(yesterday);\r\n\r\n//     };\r\n\r\n//     //calculate the penalty Day\r\n//     function getDateDiff() {\r\n//         var TO = moment(to).format('YYYY-MMMM-DD');\r\n//         var Ret = moment(returnDay).format('YYYY-MMMM-DD');\r\n//         var admission = moment(TO, 'YYYY-MMMM-DD');\r\n//         var discharge = moment(Ret, 'YYYY-MMMM-DD');\r\n//         const diffDuration = discharge.diff(admission, 'days');\r\n//         return (diffDuration);\r\n//     }\r\n\r\n//     //calculate the penalty Cost\r\n//     function calculatePenaltyCost() {\r\n//         const Price = (totalreservation * (5 / 100)) * getDateDiff();\r\n//         return Price;\r\n//     }\r\n\r\n//     function calculateRemainingPayment() {\r\n//         return ((totalreservation - advancedpayment) + calculatePenaltyCost());\r\n//     }\r\n\r\n\r\n//     // function updateTotal(){\r\n//     //     document.getElementById('penaltyDay').value = getDateDiff();\r\n//     //     var num = calculatePenaltyCost();\r\n//     //     document.getElementById('penaltyCharge').value = num.toFixed(2);\r\n//     //     var num1 = totalreservation + calculatePenaltyCost();\r\n//     //     document.getElementById('totalreservation').value = num1.toFixed(2);\r\n//     //     var num2 = calculateRemainingPayment();\r\n//     //     if(calculatePenaltyCost() != \"\") {\r\n//     //         document.getElementById('remaining').value = num2.toFixed(2);\r\n//     //     } else{\r\n//     //         document.getElementById('remaining').value = totalreservation - advancedpayment ;\r\n//     //     }\r\n        \r\n//     // }\r\n\r\n//     function calculateCharges() {\r\n//         document.getElementById('penaltyDay').value = getDateDiff();\r\n//         document.getElementById('penaltyCharge').value = calculatePenaltyCost();\r\n//         document.getElementById('remaining').value = calculateRemainingPayment();\r\n//     }\r\n\r\n//     const Days = getDateDiff();\r\n//     const penaltyCharge = calculatePenaltyCost();\r\n//     const remainder = calculateRemainingPayment();\r\n\r\n//     function UpdatedPenaltyDays() {\r\n//         var value = getDateDiff();\r\n//         setpenaltyDay(value);\r\n//     }\r\n\r\n//     function UpdatedRemainder() {\r\n//         setremaining(calculateRemainingPayment());\r\n//     }\r\n\r\n\r\n//     const onSubmit = async e => {\r\n//         e.preventDefault();\r\n \r\n//     const answer = window.confirm(\"Are you sure you want to update the Reservation details?\");\r\n    \r\n//     if (answer) {\r\n\r\n//       const newReservation = {customername, \r\n//                                 contactnumber,\r\n//                                 nic,\r\n//                                 customernic, \r\n//                                 customeraddress,\r\n//                                 packagename,\r\n//                                 eventtype, \r\n//                                 from, \r\n//                                 to,\r\n//                                 discount, \r\n//                                 advancedpayment, \r\n//                                 totalreservation, \r\n//                                 status,\r\n//                                 returnDay,\r\n//                                 penaltyDay,\r\n//                                 penaltyCharge,\r\n//                                 //remaining\r\n//                             }\r\n//                             console.log(\"data\", newReservation);\r\n//       await axios.put(`http://localhost:4000/reservations/updateReservation/${RID}`, newReservation).then(() => {\r\n//         alert(\"Reservation Payment is ready\");\r\n//          Swal.fire({\r\n//                         title: 'Success!',\r\n//                         text: `${\"Reservation Updated Successfully\"}`,\r\n//                         icon: 'success',\r\n//                         showConfirmButton: false,\r\n//                         timer: 1500\r\n//                     }\r\n//                     ).then((res) => {\r\n//                         if (res.isConfirmed) {\r\n//                             window.location.replace('/viewReservation');\r\n//                         }\r\n//                     })\r\n\r\n//       }).catch((err) => {\r\n//         alert(err.response.data.error);\r\n//       })\r\n//     } \r\n//     } \r\n//     const loadReservation = async () => {\r\n//        await axios.get(`http://localhost:4000/reservations/getReservation/${RID}`).then((res) => {\r\n//             console.log(res.data)\r\n//             setcustomername(res.data.reservation.customername);\r\n//             setcontactnumber(res.data.reservation.contactnumber);\r\n//             setnic(res.data.reservation.nic);\r\n//             setcustomernic(res.data.reservation.customernic);\r\n//             setcustomeraddress(res.data.reservation.customeraddress);\r\n//             setpackagename(res.data.reservation.packagename);\r\n//             seteventtype(res.data.reservation.eventtype);\r\n//             setfrom(res.data.reservation.from);\r\n//             setto(res.data.reservation.to);\r\n//             setdiscount(res.data.reservation.discount);\r\n//             setadvancedpayment(res.data.reservation.advancedpayment);\r\n//             settotalreservation(res.data.reservation.totalreservation);\r\n//             setstatus(res.data.reservation.status);\r\n//             setreturnDay(res.data.reservation.returnDay);\r\n//             setpenaltyDay(res.data.reservation.penaltyDay);\r\n//             setpenalty(res.data.reservation.penaltyCharge);\r\n//             //setremaining(res.data.reservation.remaining);\r\n\r\n//         }).catch((err) => {\r\n//             alert(err.response.data.error);\r\n//         })\r\n\r\n//     };\r\n//     return (\r\n                        \r\n//                             <div >\r\n//                             <Modal.Header closeButton>\r\n//                                 <Modal.Title>Update Reservation : {reservations.data.customername}</Modal.Title>\r\n//                                 </Modal.Header>\r\n//                             <Modal.Body className=\"px-4\">\r\n                                \r\n//                                 <div class=\"row\">\r\n//                                     <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">\r\n//                                         <form id=\"contact-form\" class=\"form\" onSubmit={onSubmit} >\r\n//                                         <div class=\"row\">\r\n//                                                 <br></br>\r\n//                                                 <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n//                                                     <h3 className=\"text-left mt-4 mb-3 customersize\">Customer Details</h3>\r\n//                                                 </div>\r\n//                                             </div>\r\n//                                             <div class=\"row\">\r\n//                                             <div class=\"form-group col-md-6\">\r\n//                                                 <label class=\"form-label-emp\" for=\"customername\">Customer Name</label>\r\n//                                                 <input \r\n//                                                     type=\"text\" \r\n//                                                     class=\"form-control formInput\" \r\n//                                                     id=\"customername\" \r\n//                                                     name=\"customername\" \r\n//                                                     placeholder=\"Customer Name\" t\r\n                                                    \r\n                                                    \r\n//                                                     disabled\r\n//                                                     value={customername}\r\n//                                                     onChange={(event) => { setcustomername(event.target.value) }}/>\r\n                                                    \r\n//                                             </div>\r\n//                                             <div class=\"form-group col-md-6\">\r\n//                                             <label class=\"form-label-emp\" for=\"contactnumber\">Contact Number</label>\r\n//                                                 <input \r\n//                                                     type=\"text\" \r\n//                                                     class=\"form-control formInput\" \r\n//                                                     id=\"contactnumber\" \r\n//                                                     name=\"contactnumber\" \r\n//                                                     placeholder=\"Contact Number\" \r\n                                                   \r\n                                                   \r\n//                                                     disabled\r\n//                                                     value={contactnumber}\r\n//                                                     onChange={(event) => { setcontactnumber(event.target.value) }}/>\r\n//                                             </div>\r\n//                                             </div>\r\n//                                             <div class=\"row\">\r\n//                                             <div class=\"form-group col-md-6\">\r\n//                                             <label class=\"form-label-emp\" for=\"customernic\">Customer NIC</label>\r\n//                                                 <input \r\n//                                                     type=\"text\" \r\n//                                                     class=\"form-control formInput\" \r\n//                                                     id=\"customernic\" \r\n//                                                     name=\"customernic\" \r\n//                                                     placeholder=\"Customer Address\" \r\n//                                                     tabindex=\"3\" \r\n                                                    \r\n//                                                     disabled\r\n//                                                     value={customernic}\r\n//                                                     onChange={(event) => { setcustomernic(event.target.value) }}/>\r\n//                                             </div>\r\n//                                             <div class=\"form-group col-md-6\">\r\n//                                             <label class=\"form-label-emp\" for=\"customeraddress\">Customer Address</label>\r\n//                                                 <input \r\n//                                                     type=\"text\" \r\n//                                                     class=\"form-control formInput\" \r\n//                                                     id=\"customeraddress\" \r\n//                                                     name=\"customeraddress\" \r\n//                                                     placeholder=\"Customer Address\" \r\n//                                                     tabindex=\"3\" \r\n                                                   \r\n//                                                     disabled\r\n//                                                     value={customeraddress}\r\n//                                                     onChange={(event) => { setcustomeraddress(event.target.value) }}/>\r\n//                                             </div>\r\n//                                             </div>\r\n//                                             <div class=\"row\">\r\n//                                             <br></br>\r\n//                                                 <div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center\">\r\n//                                                     <h3 className=\"text-left mt-4 mb-4 reservesize\">Reservation Details</h3>\r\n//                                                 </div>\r\n//                                             </div>\r\n                                            \r\n//                                             <div class=\"row\">\r\n                                            \r\n//                                             <div class=\"form-group col-md-4\">\r\n//                                                 <label class=\"form-label-emp\" for=\"from\">From</label>\r\n//                                                 <DatePicker \r\n                                                    \r\n//                                                     class=\"form-control formInput\" \r\n//                                                     id=\"from\" \r\n//                                                     name=\"from\" \r\n                                                    \r\n//                                                     required\r\n//                                                     disabled \r\n//                                                     value={moment(from).format(\"YYYY-MM-DD\")}\r\n                                                   \r\n//                                                     timeFormat={false}\r\n                                                   \r\n//                                                     onChange={(event) => { setfrom(event) }}\r\n//                                                     readonly=\"readonly\"/>\r\n//                                             </div>\r\n//                                             <div class=\"form-group col-md-4\">\r\n//                                                 <label class=\"form-label-emp\" for=\"to\">To</label>\r\n//                                                 <DatePicker \r\n//                                                     required \r\n//                                                     class=\"form-control formInput\" \r\n//                                                     id=\"to\" \r\n//                                                     name=\"to\" \r\n                                                    \r\n//                                                     disabled\r\n//                                                     value={moment(to).format(\"YYYY-MM-DD\")}\r\n                                                    \r\n//                                                     timeFormat={false}\r\n                                                    \r\n//                                                     onChange={(event) => { setto(event) }}\r\n//                                                     readonly=\"readonly\"/>\r\n//                                             </div>\r\n//                                             <div class=\"form-group col-md-4\">\r\n//                                                 <label class=\"form-label-emp\" for=\"status\">Status</label>\r\n//                                                 <select\r\n//                                                         id=\"status\"\r\n//                                                         className=\"form-control \"\r\n//                                                         tabindex=\"4\" \r\n//                                                         value={status}\r\n//                                                     onChange={(event) => { setstatus(event.target.value);\r\n//                                                         UpdatedPenaltyDays();\r\n//                                                         UpdatedRemainder();\r\n//                                                      }}\r\n//                                                     >\r\n                                                        \r\n//                                                         <option id=\"pending\">Pending</option>\r\n//                                                         <option id=\"completed\">Completed</option>\r\n//                                                     </select>\r\n//                                             </div>\r\n//                                             </div>\r\n//                                             <div class=\"row\">\r\n//                                             <div class=\"form-group col-md-4\">\r\n//                                                 <label class=\"form-label-emp\" for=\"returnDay\">Return Date</label>\r\n//                                                 <DatePicker\r\n//                                                     required\r\n//                                                     id=\"returnDay\" \r\n//                                                     name=\"returnDay\" \r\n//                                                     placeholder=\"\" \r\n//                                                     value={moment(returnDay).format('YYYY-MM-DD')}\r\n//                                                     timeFormat={false}\r\n//                                                     onChange={(event) => { setreturnDay(event) }}\r\n//                                                     isValidDate={disablePastDt}\r\n//                                                     onClose={calculateCharges}\r\n//                                                     />\r\n//                                             </div>\r\n//                                             </div>\r\n\r\n//                                             <div class=\"row\">\r\n//                                             <div class=\"form-group col-md-6\">\r\n//                                                 <label class=\"form-label-emp\" for=\"penaltyDay\">Penalty Days</label>\r\n//                                                 <input \r\n//                                                     type=\"Number\" \r\n//                                                     class=\"form-control formInput\" \r\n//                                                     id=\"penaltyDay\" \r\n//                                                     name=\"penaltyDay\" \r\n//                                                     placeholder=\"0\" \r\n                                                    \r\n//                                                     //required \r\n//                                                     value={penaltyDay}\r\n//                                                     onChange={(event) => { setpenaltyDay(event.target.value); {/*getDateDiff()*/ } }}\r\n\r\n//                                                     />\r\n//                                             </div>\r\n//                                             <div class=\"form-group col-md-6\">\r\n//                                                 <label class=\"form-label-emp\" for=\"penaltyCharge\">Penalty Charge</label>\r\n//                                                 <input \r\n//                                                     type=\"number\"\r\n//                                                     class=\"form-control formInput\" \r\n//                                                     id=\"penaltyCharge\" \r\n//                                                     name=\"penaltyCharge\" \r\n//                                                     placeholder=\"0\" \r\n                                                   \r\n//                                                     value={penalty}\r\n//                                                     onChange={(e) => {\r\n//                                                         setpenalty(e.target.value); \r\n//                                                         //calculatePenaltyCost()\r\n//                                                 }}/>\r\n//                                             </div>\r\n//                                             </div>\r\n//                                             <div class=\"row\">\r\n//                                             <div class=\"form-group col-md-6\">\r\n//                                                 <label class=\"form-label-emp\" for=\"advancedpayment\">Advanced Payment</label>\r\n//                                                 <input \r\n//                                                     type=\"number\" \r\n//                                                     class=\"form-control formInput\" \r\n//                                                     id=\"advancedpayment\" \r\n//                                                     name=\"advancedpayment\" \r\n//                                                     placeholder=\"Advanced Payment\" \r\n//                                                     disabled\r\n                                                    \r\n                                                    \r\n//                                                     value={advancedpayment}\r\n//                                                     onChange={(event) => { setadvancedpayment(event.target.value) }}/>\r\n//                                             </div>\r\n//                                             <div class=\"form-group col-md-6\">\r\n//                                                 <label class=\"form-label-emp\" for=\"totalreservation\">Total Reservation Payment</label>\r\n//                                                 <input \r\n//                                                     type=\"number\" \r\n//                                                     class=\"form-control formInput\" \r\n//                                                     id=\"totalreservation\" \r\n//                                                     name=\"totalreservation\" \r\n//                                                     placeholder=\"Total Reservation Payment\" \r\n//                                                     tabindex=\"11\" \r\n//                                                     value={totalreservation}\r\n//                                                     required \r\n//                                                     disabled\r\n//                                                    // onChange={(event) => { settotalreservation(event.target.value) }}\r\n//                                                    />\r\n//                                             </div>\r\n//                                             </div>\r\n//                                             <div class=\"row\">\r\n//                                             <div class=\"form-group col-md-6\">\r\n//                                                 <label class=\"form-label-emp\" for=\"remaining\">Remaining Reservation Payment</label>\r\n//                                                 <input \r\n//                                                     type=\"number\" \r\n//                                                     class=\"form-control formInput\" \r\n//                                                     id=\"remaining\" \r\n//                                                     name=\"remaining\" \r\n//                                                     value={remaining}\r\n//                                                     placeholder=\"Remaining Reservation Payment\" \r\n                                                    \r\n//                                                     onChange={(event) => { setremaining(event.target.value) }}/>\r\n//                                             </div>\r\n                                            \r\n//                                             </div>\r\n                                            \r\n//                                             <div className=\"row\">\r\n//                                             <div className=\"col py-3 text-center\">         \r\n//                                                 <input type=\"button\" class=\"btn btn-info-total\" id=\"entry\" value=\"Payment\"  />\r\n//                                                 {/* onClick={updateTotal} */}\r\n//                                                 </div>\r\n//                                                 <div className=\"col py-3 text-center\">\r\n//                                                     <button type=\"submit\" className=\"btn btn-ok\">\r\n//                                                         Update\r\n//                                                     </button>\r\n//                                                 </div>\r\n//                                                 <div className=\"col py-3 text-center\">\r\n//                                                     <button type=\"reset\" className=\"btn btn-reset\">\r\n//                                                         Cancel\r\n//                                                     </button>\r\n//                                                 </div>\r\n//                                             </div>\r\n//                                         </form>\r\n//                                     </div>\r\n//                                 </div>\r\n//                             </Modal.Body >\r\n\r\n//                             </div>\r\n                \r\n//         )\r\n//     }\r\n\r\n// export default Updatereservation;\r\n"],"file":"updatereservation.dev.js"}